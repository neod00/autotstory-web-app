# 🤖 티스토리 로그인 자동화 테스트 가이드

## 📋 준비사항

### 1. 필요한 패키지 설치
```bash
pip install selenium python-dotenv webdriver-manager
```

### 2. 환경변수 설정
1. `env_example.txt` 파일을 `.env`로 복사
2. 실제 계정 정보로 수정

```bash
# Windows
copy env_example.txt .env

# Mac/Linux  
cp env_example.txt .env
```

### 3. .env 파일 수정
```env
TISTORY_USERNAME=실제_카카오_이메일@gmail.com
TISTORY_PASSWORD=실제_비밀번호
```

## 🚀 테스트 실행

### 기본 실행
```bash
python test_auto_login.py
```

### 테스트 메뉴
```
📋 테스트 메뉴
========================================
1. 완전 자동 로그인 테스트
2. 저장된 세션으로 로그인 테스트  
3. 자격 증명으로 로그인 테스트
4. 현재 로그인 상태 확인
5. 쿠키 저장
6. 쿠키 로드
0. 종료
```

## 📊 테스트 시나리오

### 시나리오 1: 처음 실행 (쿠키 없음)
1. `1번` 선택 - 완전 자동 로그인 테스트
2. 자격증명으로 로그인 시도
3. 성공 시 쿠키 자동 저장

### 시나리오 2: 두 번째 실행 (쿠키 있음)
1. `1번` 선택 - 완전 자동 로그인 테스트
2. 쿠키 기반 자동 로그인 성공
3. **완전 자동화 확인! ✅**

### 시나리오 3: 로그인 상태 확인
1. `4번` 선택 - 현재 로그인 상태 확인
2. 대시보드 접근 및 로그인 상태 검증

## 🔍 예상 결과

### 성공 시
```
✅ 웹드라이버 설정 완료
🔄 자동 로그인 시도 중...
📁 쿠키 파일에서 5개 로드
✅ 5/5개 쿠키 로드 성공
✅ 로그인 상태 확인됨: write_button, admin_panel
✅ 자동 로그인 성공!
```

### 실패 시 (첫 실행)
```
❌ 쿠키 파일이 존재하지 않습니다
🔑 자격 증명으로 로그인 시도...
🌐 로그인 페이지 접속 중...
✅ 로그인 성공!
✅ 티스토리 쿠키 5개 저장 완료
```

## ⚠️ 문제 해결

### 1. 로그인 실패
- 아이디/비밀번호 확인
- 2단계 인증 설정 확인
- 카카오 보안 설정 확인

### 2. 쿠키 로드 실패
- 브라우저 캐시 클리어
- `tistory_cookies.pkl` 파일 삭제 후 재시도

### 3. 웹드라이버 오류
```bash
pip install --upgrade webdriver-manager
```

## 🎯 자동화 확인 포인트

### ✅ 성공 기준
1. **쿠키 저장/로드** - 세션 유지
2. **로그인 상태 자동 확인** - URL 및 DOM 체크
3. **알림창 자동 처리** - 사용자 개입 없음
4. **에러 복구** - 실패 시 자동 재시도

### 📈 다음 단계
로그인 자동화가 성공하면:
1. 메인 프로그램에 통합
2. 주제 자동 선택 구현
3. 발행 자동화 구현
4. 스케줄링 시스템 구현

## 💡 팁

### 헤드리스 모드 테스트
테스트 시작 시 `y` 입력하면 백그라운드 실행:
```
헤드리스 모드로 실행하시겠습니까? (y/n, 기본값: n): y
```

### 디버깅 모드
브라우저 창이 보이는 상태로 테스트하려면 `n` 선택:
```
헤드리스 모드로 실행하시겠습니까? (y/n, 기본값: n): n
``` 